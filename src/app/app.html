<div class="app-container">
  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <div class="logo">
        <span class="material-icons mountain-icon">landscape</span>
        <h1>Korona Gór Polskich</h1>
      </div>
      <p class="subtitle">Zdobądź najwyższe szczyty polskich pasm górskich</p>
    </div>
  </header>

  <!-- Progress Section -->
  <section class="progress-section">
    <div class="progress-card">
      <div class="progress-header">
        <span class="material-icons">trending_up</span>
        <h2>Twój postęp</h2>
      </div>
      <div class="progress-stats">
        <div class="stat">
          <span class="stat-value climbed">{{ climbedMountains().length }}</span>
          <span class="stat-label">Zdobyte</span>
        </div>
        <div class="progress-bar-container">
          <div class="progress-bar" [style.width.%]="getProgressPercentage()">
            <span class="progress-text">{{ getProgressPercentage() }}%</span>
          </div>
        </div>
        <div class="stat">
          <span class="stat-value remaining">{{ mountains().length - climbedMountains().length }}</span>
          <span class="stat-label">Pozostało</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Main Content -->
  <main class="main-content">
    <div class="table-card">
      <div class="table-header">
        <h2>
          <span class="material-icons">terrain</span>
          Lista szczytów
        </h2>
        <span class="mountain-count">{{ mountains().length }} szczytów</span>
      </div>
      
      <div class="table-container">
        <table class="mountains-table">
          <thead>
            <tr>
              <th class="checkbox-col">
                <button class="sort-btn" (click)="sort('climbed')" [class.active]="sortColumn() === 'climbed'">
                  Zdobyty
                  <span class="material-icons sort-icon">{{ getSortIcon('climbed') }}</span>
                </button>
              </th>
              <th>
                <button class="sort-btn" (click)="sort('name')" [class.active]="sortColumn() === 'name'">
                  Nazwa szczytu
                  <span class="material-icons sort-icon">{{ getSortIcon('name') }}</span>
                </button>
              </th>
              <th>
                <button class="sort-btn" (click)="sort('height')" [class.active]="sortColumn() === 'height'">
                  Wysokość
                  <span class="material-icons sort-icon">{{ getSortIcon('height') }}</span>
                </button>
              </th>
              <th>
                <button class="sort-btn" (click)="sort('region')" [class.active]="sortColumn() === 'region'">
                  Pasmo górskie
                  <span class="material-icons sort-icon">{{ getSortIcon('region') }}</span>
                </button>
              </th>
              <th>
                <button class="sort-btn" (click)="sort('difficulty')" [class.active]="sortColumn() === 'difficulty'">
                  Trudność
                  <span class="material-icons sort-icon">{{ getSortIcon('difficulty') }}</span>
                </button>
              </th>
            </tr>
          </thead>
          <tbody>
            @for (mountain of mountains(); track mountain.id) {
              <tr [class.climbed-row]="mountain.climbed">
                <td class="checkbox-col">
                  <label class="checkbox-container">
                    <input 
                      type="checkbox" 
                      [checked]="mountain.climbed"
                      (change)="toggleClimbed(mountain.id)"
                    >
                    <span class="checkmark">
                      <span class="material-icons check-icon">check</span>
                    </span>
                  </label>
                </td>
                <td class="name-col">
                  <span class="mountain-name">{{ mountain.name }}</span>
                </td>
                <td class="height-col">
                  <span class="height-value">{{ mountain.height }}</span>
                  <span class="height-unit">m n.p.m.</span>
                </td>
                <td class="region-col">{{ mountain.region }}</td>
                <td class="difficulty-col">
                  <span class="difficulty-badge" [class]="getDifficultyClass(mountain.difficulty)">
                    {{ mountain.difficulty }}
                  </span>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    </div>

    <!-- PDF Generation Button -->
    <div class="actions-section">
      <button class="pdf-button" (click)="generatePdf()">
        <span class="material-icons">picture_as_pdf</span>
        Wygeneruj raport PDF
      </button>
      <p class="pdf-hint">Pobierz raport z listą zdobytych i niezdobytych szczytów</p>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <span class="material-icons">eco</span>
      <p>Korona Gór Polskich</p>
    </div>
  </footer>
</div>
